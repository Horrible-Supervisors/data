#!/bin/bash


array_str="array="
for x in $(grep -L "Complete" logs/imagenet_subset/batch6/* | grep -E -o .[0-9]+.out | grep -E -o [0-9]+); do
    array_str="${array_str}${x},"
done

echo "${array_str}"

# batch0
# --array=287,753,800,861,1295,1453,1484,1573,2099,2402,2423,2483,2543,2705,2841,3010,3032,3035,3210,3489,3548,3592,4124,4380,4421,4452,4468,4799,5147,5166,5167,5614,5659,5744,5832,6344,6471,6671,6798,6860,6877,7148,7438,7545,8478,9190,9377,9381,9639,10302,10365,10419,10429,10652,10680,10693,10793,11100,11510,11842,11991,12403,12579,12696,12911,12943,12956,13205,13506,13778,13784,13790,13945,14248,14258,14395,14422,14635,14772,14810,14911,14943,15036,15431,15604,16114,16125,16723,16971,17234,17264,17822,17896,18051,18079,18145,18316,19218,19303,19625,19916

# batch1
# --array=74,303,553,559,863,897,1002,1053,1195,1242,1313,1511,1828,2146,2665,3256,3341,3507,3538,3650,3747,3791,3796,3984,4065,4151,4326,4390,4597,4706,4748,4805,5113,5296,5401,5551,5668,5762,6036,6166,6270,6465,6534,6608,6713,7112,7312,7464,7585,7762,7939,8278,8679,8902,8949,8963,8977,9385,9464,9489,9937,9945,10142,10203,10253,10334,10351,10612,10668,10761,11069,11506,11614,11856,11877,12077,12344,12448,12611,12690,12711,12981,13142,13169,13548,14188,14243,14288,14352,14456,14633,14889,15360,15435,15480,15676,15878,16241,16784,16872,16974,17449,17675,17734,17954,17991,18427,18503,18553,18635,18699,18731,18893,19275,19402,19420,19509,19641,19956

# batch2
# --array=307,313,340,491,786,789,941,1067,1098,1375,1915,1962,2207,2283,2467,2785,3269,3391,3534,3691,3907,4032,4827,4949,4997,5078,5085,5088,5229,5611,5911,6051,6088,6158,6367,6380,6725,7081,7225,7377,7457,7774,7787,7853,8329,8844,8943,9002,9380,9730,9742,9750,9775,9783,10061,10244,10611,11042,11569,11793,11858,11930,12040,12349,12584,12782,13018,13261,13447,13567,13889,14274,14454,14667,14701,15006,15135,15165,15431,15809,15851,15894,16403,16803,17405,17729,17758,17929,17968,18002,18254,18498,18832,18937,19067,19457,19775,19884

# batch3
# --array=177,341,662,1059,1615,2127,2166,2289,2308,2400,2654,2878,3007,3741,4064,4085,4109,4134,4163,4194,4228,4253,4263,4272,4296,4318,4339,4358,4383,4408,4434,4451,4470,4535,4831,4855,4884,4886,4940,4960,4982,4998,5007,5031,5052,5077,5097,5104,5120,5138,5149,5174,5204,5225,5242,5247,5272,5294,5320,5344,5365,5388,5409,5437,5462,5488,5520,5545,5563,5585,5589,5596,5610,5631,5649,5674,5698,5718,5742,5764,5785,5792,5810,5833,5854,5877,5898,5915,5934,5950,5967,5977,6023,6042,6053,6068,6082,6100,6113,6131,6141,6161,6173,6186,6205,6215,6233,6246,6261,6277,6291,6306,6321,6337,6349,6366,6379,6398,6413,6425,6444,6457,6471,6491,6504,6522,6533,6549,6567,6578,6597,6609,6626,6642,6657,6677,6693,6707,6722,6738,6793,6961,6976,6995,7014,7030,7053,7068,7079,7099,7112,7131,7134,7147,7161,7189,7353,7948,7995,8034,8366,8514,8592,8673,8857,9008,9384,10839,11280,11985,11990,12029,12462,12915,12972,13088,13257,13651,13790,13916,14081,14325,14388,14448,14477,14495,14901,15341,15390,15596,15917,15977,16208,16216,16247,16983,17052,17076,17207,17334,17445,17749,17983,17992,18276,18821,19435,19717,19795,19956

# batch4
# --array=14,17,23,25,28,29,30,31,32,33,34,35,36,82,84,169,172,173,176,177,180,181,184,185,188,189,192,193,194,195,196,1113,1178,2135,2419,2557,2712,3013,3055,3766,3910,3952,4276,4677,4738,4924,4929,5055,5186,5598,5638,5987,6024,6107,6846,6854,6883,6981,7616,7858,8444,8495,8776,9102,9164,9197,9398,9816,9868,9948,9983,10146,10355,10415,10546,10560,10682,11062,11304,11457,11785,12139,12719,13008,13029,13418,13498,13678,13686,13687,14181,14436,14718,14890,15520,15653,15766,15996,16215,16251,16286,16340,16457,16824,17160,17703,17717,17718,18004,18359,19232,19598,19752

# batch5
# --array=10262,10519,10597,1088,11022,11079,11522,1160,11683,11864,1187,12038,12719,13016,13085,130,135,13619,13827,14226,14310,14783,14907,15090,15527,15540,16074,16139,16353,16633,16876,1688,17026,1724,17319,17424,17636,18209,18509,1906,19076,19330,19681,19878,19965,2596,2998,3025,324,3345,3407,3412,3739,3921,4141,4955,4969,5291,5447,6621,6630,6905,7214,7316,7364,7628,7774,7841,8185,8214,8336,8566,859,8653,8982,9015,9414,957

# batch6
# --array=1031,1035,1101,1428,2036,2062,2427,2589,2912,362,3662,4163,5004,5219,5427,5542,6250,6401,6450,6777,7662,7724,8028,853,86

#           id
# 16723  16723
# 46367  46367
# 77992  77992
# 88776  88776